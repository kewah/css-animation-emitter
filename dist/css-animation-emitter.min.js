/*!
 * css-animation-emitter
 * v0.1.2 - 21/10/2013
 * http://github.com/kewah/css-animation-emitter
 * (c) Antoine Lehurt (@kewah) - MIT License
 */
!function(a,b,c){"use strict";function d(a){for(var b in a)if(c!==g[b])return a[b];return{}}function e(a){var b=i[a];if(!b)throw new Error("unknown type: "+a);return b}function f(a){return this instanceof f?(this._el=a,this._listeners=[],void 0):new f(a)}var g=b.documentElement.style,h=d({webkitAnimationName:{s:"webkitAnimationStart",e:"webkitAnimationEnd",i:"webkitAnimationIteration"},MozAnimationName:{s:"animationstart",e:"animationend",i:"animationiteration"},OAnimationName:{s:"oAnimationStart",e:"oAnimationEnd",i:"oAnimationIteration"},msAnimationName:{s:"MSAnimationStart",e:"MSAnimationEnd",i:"MSAnimationIteration"},animationName:{s:"animationstart",e:"animationend",i:"animationiteration"}}),i={transitionend:d({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}),animationstart:h.s,animationend:h.e,animationiteration:h.i},j=f.prototype;j.on=function(a,b,c){c=c||!1,a=e(a),this._listeners.push({type:a,handler:b,capture:c}),this._el.addEventListener(a,b,c)},j.once=function(a,b,d){function e(){b.apply(c,arguments),f.off(a,e,d)}var f=this;f.on(a,e,d)},j.off=function(a,b,c){var d=arguments.length;if(0===d)return this.removeAllListeners();a=e(a);for(var f,g,h,i,j=this._listeners,k=this._el,l=j.length;l--;)f=j[l],g=f.type===a,h=f.handler===b,i=f.capture===(c||!1),(1===d&&g||2===d&&g&&h||g&&h&&i)&&(k.removeEventListener(a,b,c),j.splice(l,1))},j.removeAllListeners=function(){for(var a,b=this._listeners,c=this._el,d=b.length;d--;)a=b.pop(),c.removeEventListener(a.type,a.handler,a.capture)},a.CSSAnimationEmitter=f}(window,document);